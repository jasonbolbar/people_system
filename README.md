People System
========================
The purpose of this application is to allow a user to add the basic information about a person and notify via email to the existent people in the system when a user is added or deleted.

Delivery Date
===================

Tuesday, May 17th, 2016

Install Steps
===================

System dependencies
* Ruby 2.2.4
* Redis server (http://redis.io)
* RVM (https://rvm.io)
* MySQL

Clone the proyect using https:`git clone https://github.com/jasonbolbar/people_system.git`
or via ssh:`git clone git@github.com:jasonbolbar/people_system.git`

On the folder proyect run the folloing command: 
```
  bundle install
```

On `config` directoy create `database.yml` with the following content:
```
default: &default
  adapter: mysql2
  encoding: utf8
  pool: 5
  username: <DATABASE_USERNAME>
  password: <DATABASE_PASSWORD>
```
This configuration will be used to establish the connection to the database. For each environment consider to add the following lines in `database.yml` :
```
<ENVIRONMENT>:
  <<: *default
  database: <DATABASE_NAME>
```

For `DATABASE_USERNAME` and `DATABASE_PASSWORD` you should replace it by your username and password of
your MySQL server and `DATABASE_NAME` should be replaced by the name of the database that you want to set

Add `secrets.yml` on the config directory and fill it with the following content:

```
<ENVIRONMENT>:
  secret_key_base: <SECRET_KEY>
  mailer:
    from: <DEFAULT_FROM_EMAIL>
```

For `SECRET_KEY` you should add a autogenerated key by the task: `rake secret`. For `DEFAULT_FROM_EMAIL`
you should add the default from email address that the Mailer will use.

Run command: `rake db:setup` to create the database and populate it with 20 records.

To start the workers use the following command `rake resque:start_workers`. If you want to add more that one worker
pass the number of jobs that you want to open as param. Example: `rake resque:start_workers[2]` to open 2 workers,

If you need the status o the workers, Resque provides a web interface you can call if you run on your terminal `resque-web`
and it can be accessed on url: `http://localhost:5678`

When you don't need to use the workers and you want to stop them, you should use the following task:
`rake resque:stop_workers` this command will stop the resque-web platform and the running workers.

To run the application you must execute: `rails s`
